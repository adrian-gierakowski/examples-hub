const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-S15iVPoS.js","assets/index-jYhNKwge.js","assets/index-D-c5h5Hy.js","assets/index-BZcti3oU.css","assets/CapsuleModal-DdUkouQK.js","assets/native-nlbQMriv.js"])))=>i.map(i=>d[i]);
import{b9 as Fn,fy as xr,bR as Er,fz as Cr,aY as Ar,dD as Tr}from"./index-D-c5h5Hy.js";import{j as kr,w as _e,u as ut}from"./CapsuleModal-DdUkouQK.js";import{B as P,s as B,k as $,t as re,n as R,c as D,i as G,I as fe,p as Z,b as Rr,d as On,e as He,a as se,f as jn,h as We,j as z,l as Nt,m as Ve,o as Fr,q as Oe,r as Or,u as jr,v as In,w as Ir,x as Bt,y as Nn,z as Y,A as Nr,g as Je,E as qe,F as yt,C as rn,N as sn,D as an,G as on,H as cn,J as un,K as dn,T as ln,L as gt,U as Ze,M as Br,O as Bn,P as $r,Q as Mr,R as Sr,S as _r,V as qr,W as Ye,X as Dr,Y as Q,Z as wt,_ as $n,$ as fn,a0 as zr,a1 as Lr,a2 as Gr,a3 as K,a4 as V,a5 as Mn,a6 as vt,a7 as Sn,a8 as Hr,a9 as Ur,aa as Wr,ab as Vr,ac as Jr}from"./index-jYhNKwge.js";function Zr(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const hn=/^tuple(?<array>(\[(\d*)\])*)$/;function Pt(e){let t=e.type;if(hn.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Pt(a),s<n-1&&(t+=", ")}const r=Zr(hn,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Pt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function ue(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Pt(s),r!==n-1&&(t+=", ")}return t}function Yr(e){return e.type==="function"?`function ${e.name}(${ue(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${ue(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ue(e.inputs)})`:e.type==="error"?`error ${e.name}(${ue(e.inputs)})`:e.type==="constructor"?`constructor(${ue(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function C(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function L(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new us(e.type);return`${e.name}(${Ke(e.inputs,{includeName:t})})`}function Ke(e,{includeName:t=!1}={}){return e?e.map(n=>Kr(n,{includeName:t})).join(t?", ":","):""}function Kr(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ke(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Qr extends P{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class bn extends P{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class _n extends P{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ke(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Qe extends P{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Xr extends P{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class es extends P{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${B(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class ts extends P{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class qn extends P{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ns extends P{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Dn extends P{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class pn extends P{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Ue extends P{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class rs extends P{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class ss extends P{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${L(t.abiItem)}\`, and`,`\`${n.type}\` in \`${L(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class as extends P{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class he extends P{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ke(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Xe extends P{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${L(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class os extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class is extends P{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class cs extends P{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class us extends P{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ds extends P{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const ls=e=>$(re(e));function fs(e){return ls(e)}function hs(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new P("Unable to normalize signature.");return s}const bs=e=>{const t=typeof e=="string"?e:Yr(e);return hs(t)};function zn(e){return fs(bs(e))}const $t=zn;function je(e,t){if(e.length!==t.length)throw new ts({expectedLength:e.length,givenLength:t.length});const n=ps({params:e,values:t}),r=St(n);return r.length===0?"0x":r}function ps({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Mt({param:e[r],value:t[r]}));return n}function Mt({param:e,value:t}){const n=_t(e.type);if(n){const[r,s]=n;return ys(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return xs(t,{param:e});if(e.type==="address")return ms(t);if(e.type==="bool")return ws(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return vs(t,{signed:r})}if(e.type.startsWith("bytes"))return gs(t,{param:e});if(e.type==="string")return Ps(t);throw new os(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function St(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=B(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(R(t+s,{size:32})),r.push(i),s+=B(i)):n.push(i)}return D([...n,...r])}function ms(e){if(!G(e))throw new fe({address:e});return{dynamic:!1,encoded:Z(e.toLowerCase())}}function ys(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new cs(e);if(!r&&e.length!==t)throw new Xr({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=Mt({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=St(a);if(r){const i=R(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?D([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:D(a.map(({encoded:o})=>o))}}function gs(e,{param:t}){const[,n]=t.type.split("bytes"),r=B(e);if(!n){let s=e;return r%32!==0&&(s=Z(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:D([Z(R(r,{size:32})),s])}}if(r!==parseInt(n))throw new es({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:Z(e,{dir:"right"})}}function ws(e){if(typeof e!="boolean")throw new P(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Z(Rr(e))}}function vs(e,{signed:t}){return{dynamic:!1,encoded:R(e,{size:32,signed:t})}}function Ps(e){const t=On(e),n=Math.ceil(B(t)/32),r=[];for(let s=0;s<n;s++)r.push(Z(He(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:D([Z(R(B(t),{size:32})),...r])}}function xs(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=Mt({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?St(r):D(r.map(({encoded:s})=>s))}}function _t(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const qt=e=>He(zn(e),0,4);function Ie(e){const{abi:t,args:n=[],name:r}=e,s=se(r,{strict:!1}),a=t.filter(i=>s?i.type==="function"?qt(i)===r:i.type==="event"?$t(i)===r:!1:"name"in i&&i.name===r);if(a.length===0)return;if(a.length===1)return a[0];let o;for(const i of a){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in i&&i.inputs[l];return d?xt(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Ln(i.inputs,o.inputs,n);if(u)throw new ss({abiItem:i,type:u[0]},{abiItem:o,type:u[1]})}o=i}}return o||a[0]}function xt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return G(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>xt(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>xt(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ln(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Ln(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?G(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?G(n[r],{strict:!1}):!1)return o}}const mn="/docs/contract/encodeEventTopics";function Ne(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ie({abi:t,name:n});if(!u)throw new pn(n,{docsPath:mn});s=u}if(s.type!=="event")throw new pn(void 0,{docsPath:mn});const a=L(s),o=$t(a);let i=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(i=(u==null?void 0:u.map((d,f)=>Array.isArray(l[f])?l[f].map((m,b)=>yn({param:d,value:l[f][b]})):l[f]?yn({param:d,value:l[f]}):null))??[])}return[o,...i]}function yn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return $(re(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ds(e.type);return je([e],[t])}function et(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function Gn(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=et(e,{method:"eth_newFilter"}),l=a?Ne({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?R(o):o,toBlock:typeof c=="bigint"?R(c):c,topics:l}]});return{abi:r,args:s,eventName:a,id:d,request:u(d),strict:!!i,type:"event"}}function M(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const gn="/docs/contract/encodeFunctionData";function Es(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=Ie({abi:t,args:n,name:r});if(!a)throw new Ue(r,{docsPath:gn});s=a}if(s.type!=="function")throw new Ue(void 0,{docsPath:gn});return{abi:[s],functionName:qt(L(s))}}function J(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Es(e)})(),s=n[0],a=r,o="inputs"in s&&s.inputs?je(s.inputs,t??[]):void 0;return jn([a,o??"0x"])}const Hn={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Cs={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},As={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Ts(e,t={}){typeof t.size<"u"&&We(e,{size:t.size});const n=z(e,t);return Nt(n,t)}function ks(e,t={}){let n=e;if(typeof t.size<"u"&&(We(n,{size:t.size}),n=Ve(n)),n.length>1||n[0]>1)throw new Fr(n);return!!n[0]}function _(e,t={}){typeof t.size<"u"&&We(e,{size:t.size});const n=z(e,t);return Oe(n,t)}function Rs(e,t={}){let n=e;return typeof t.size<"u"&&(We(n,{size:t.size}),n=Ve(n,{dir:"right"})),new TextDecoder().decode(n)}function tt(e,t){const n=typeof t=="string"?Or(t):t,r=jr(n);if(B(n)===0&&e.length>0)throw new Qe;if(B(t)&&B(t)<32)throw new _n({data:typeof t=="string"?t:z(t),params:e,size:B(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const i=e[o];r.setPosition(s);const[c,u]=te(r,i,{staticPosition:0});s+=u,a.push(c)}return a}function te(e,t,{staticPosition:n}){const r=_t(t.type);if(r){const[s,a]=r;return Os(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return Bs(e,t,{staticPosition:n});if(t.type==="address")return Fs(e);if(t.type==="bool")return js(e);if(t.type.startsWith("bytes"))return Is(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Ns(e,t);if(t.type==="string")return $s(e,{staticPosition:n});throw new is(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const wn=32,Et=32;function Fs(e){const t=e.readBytes(32);return[In(z(Ir(t,-20))),32]}function Os(e,t,{length:n,staticPosition:r}){if(!n){const o=_(e.readBytes(Et)),i=r+o,c=i+wn;e.setPosition(i);const u=_(e.readBytes(wn)),l=be(t);let d=0;const f=[];for(let m=0;m<u;++m){e.setPosition(c+(l?m*32:d));const[b,h]=te(e,t,{staticPosition:c});d+=h,f.push(b)}return e.setPosition(r+32),[f,32]}if(be(t)){const o=_(e.readBytes(Et)),i=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[l]=te(e,t,{staticPosition:i});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[i,c]=te(e,t,{staticPosition:r+s});s+=c,a.push(i)}return[a,s]}function js(e){return[ks(e.readBytes(32),{size:32}),32]}function Is(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=_(e.readBytes(32));e.setPosition(n+o);const i=_(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[z(c),32]}return[z(e.readBytes(parseInt(s),32)),32]}function Ns(e,t){const n=t.type.startsWith("int"),r=parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?Ts(s,{signed:n}):_(s,{signed:n}),32]}function Bs(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(be(t)){const o=_(e.readBytes(Et)),i=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+a);const[l,d]=te(e,u,{staticPosition:i});a+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=te(e,i,{staticPosition:n});s[r?o:i==null?void 0:i.name]=c,a+=u}return[s,a]}function $s(e,{staticPosition:t}){const n=_(e.readBytes(32)),r=t+n;e.setPosition(r);const s=_(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=Rs(Ve(a));return e.setPosition(t+32),[o,32]}function be(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(be);const n=_t(e.type);return!!(n&&be({...e,type:n[1]}))}function Ms(e){const{abi:t,data:n}=e,r=He(n,0,4);if(r==="0x")throw new Qe;const a=[...t||[],Cs,As].find(o=>o.type==="error"&&r===qt(L(o)));if(!a)throw new qn(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?tt(a.inputs,He(n,4)):void 0,errorName:a.name}}const j=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function Un({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?j(t[a]):t[a]}`).join(", ")})`}class Ss extends P{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class _s extends P{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function vn(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function qs(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=vn(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=vn(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class Wn extends P{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:m}){var p;const b=n?M(n):void 0;let h=Bt({from:b==null?void 0:b.address,to:d,value:typeof f<"u"&&`${Nn(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${Y(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Y(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Y(u)} gwei`,nonce:l});m&&(h+=`
${qs(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ds extends P{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=Ie({abi:n,args:r,name:o}),u=c?Un({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?L(c,{includeName:!0}):void 0,d=Bt({address:s&&Nr(s),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class Ct extends P{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=Ms({abi:t,data:n});const{abiItem:l,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[m]=f;c=Hn[m]}else{const m=l?L(l,{includeName:!0}):void 0,b=l&&f?Un({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;i=[m?`Error: ${m}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){a=l}else s&&(c=s);let u;a instanceof qn&&(u=a.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=u}}class zs extends P{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Dt extends P{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class le extends P{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Je(a)}`,t&&`Request body: ${j(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class Ls extends P{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Je(r)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class zt extends P{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Je(r)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class At extends P{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Je(n)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Gs=-1;class N extends P{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof zt?t.code:n??Gs}}class q extends N{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class pe extends N{constructor(t){super(t,{code:pe.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(pe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class me extends N{constructor(t){super(t,{code:me.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(me,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ye extends N{constructor(t){super(t,{code:ye.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(ye,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ge extends N{constructor(t){super(t,{code:ge.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(ge,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class X extends N{constructor(t){super(t,{code:X.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ee extends N{constructor(t){super(t,{code:ee.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class we extends N{constructor(t){super(t,{code:we.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(we,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ve extends N{constructor(t){super(t,{code:ve.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Pe extends N{constructor(t){super(t,{code:Pe.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Pe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class xe extends N{constructor(t){super(t,{code:xe.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class ae extends N{constructor(t){super(t,{code:ae.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ee extends N{constructor(t){super(t,{code:Ee.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ne extends q{constructor(t){super(t,{code:ne.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ce extends q{constructor(t){super(t,{code:Ce.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ae extends q{constructor(t){super(t,{code:Ae.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Te extends q{constructor(t){super(t,{code:Te.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Te,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ke extends q{constructor(t){super(t,{code:ke.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Re extends q{constructor(t){super(t,{code:Re.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hs extends N{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Us=3;function Fe(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:u,shortMessage:l}=e instanceof Dt?e:e instanceof P?e.walk(f=>"data"in f)||e.walk():{},d=e instanceof Qe?new zs({functionName:a}):[Us,X.code].includes(i)&&(c||u||l)?new Ct({abi:t,data:typeof c=="object"?c.data:c,functionName:a,message:l??u}):e;return new Ds(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class Ws extends P{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var b;const m=Bt({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Nn(f)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${Y(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Y(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Y(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}function Lt(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof P?e.walk(s=>s.code===qe.code):e;return r instanceof P?new qe({cause:e,message:r.details}):qe.nodeMessage.test(n)?new qe({cause:e,message:e.details}):yt.nodeMessage.test(n)?new yt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):rn.nodeMessage.test(n)?new rn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):sn.nodeMessage.test(n)?new sn({cause:e,nonce:t==null?void 0:t.nonce}):an.nodeMessage.test(n)?new an({cause:e,nonce:t==null?void 0:t.nonce}):on.nodeMessage.test(n)?new on({cause:e,nonce:t==null?void 0:t.nonce}):cn.nodeMessage.test(n)?new cn({cause:e}):un.nodeMessage.test(n)?new un({cause:e,gas:t==null?void 0:t.gas}):dn.nodeMessage.test(n)?new dn({cause:e,gas:t==null?void 0:t.gas}):ln.nodeMessage.test(n)?new ln({cause:e}):gt.nodeMessage.test(n)?new gt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Ze({cause:e})}function Vs(e,{docsPath:t,...n}){const r=(()=>{const s=Lt(e,n);return s instanceof Ze?e:s})();return new Ws(r,{docsPath:t,...n})}function Gt(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}function Be(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?M(t):void 0;if(o&&!G(o.address))throw new fe({address:o.address});if(a&&!G(a))throw new fe({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Br;if(r&&r>2n**256n-1n)throw new yt({maxFeePerGas:r});if(s&&r&&s>r)throw new gt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Js extends P{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ht extends P{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Zs extends P{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Y(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Vn extends P{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function H(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,d,f;const a=r??"latest",o=s??!1,i=n!==void 0?R(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!c)throw new Vn({blockHash:t,blockNumber:n});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||Bn)(c)}async function Ut(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Ys(e,t){return Jn(e,t)}async function Jn(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const c=n||await C(e,H,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Nt(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):C(e,H,"getBlock")({}),C(e,Ut,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Ht;const l=u-c.baseFeePerGas;return l<0n?0n:l}}async function Ks(e,t){return Tt(e,t)}async function Tt(e,t){var f,m;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var b,h;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)??1.2})();if(o<1)throw new Js;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),u=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await C(e,H,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(b!==null)return b}if(a==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Ht;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Jn(e,{block:l,chain:r,request:s}),h=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??h+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await C(e,Ut,"getGasPrice")({}))}}async function Zn(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?R(r):n]});return Oe(s)}class nt extends P{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}async function $e(e){const t=await e.request({method:"eth_chainId"});return Oe(t)}const Yn=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function rt(e,t){const{account:n=e.account,blobs:r,chain:s,chainId:a,gas:o,kzg:i,nonce:c,parameters:u=Yn,type:l}=t,d=n?M(n):void 0,f={...t,...d?{from:d==null?void 0:d.address}:{}};let m;async function b(){return m||(m=await C(e,H,"getBlock")({blockTag:"latest"}),m)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const h=$r({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const p=Mr({commitments:h,to:"hex"});f.blobVersionedHashes=p}if(u.includes("sidecars")){const p=Sr({blobs:r,commitments:h,kzg:i}),y=_r({blobs:r,commitments:h,proofs:p,to:"hex"});f.sidecars=y}}if(u.includes("chainId")&&(s?f.chainId=s.id:typeof a<"u"?f.chainId=a:f.chainId=await C(e,$e,"getChainId")({})),u.includes("nonce")&&typeof c>"u"&&d&&(f.nonce=await C(e,Zn,"getTransactionCount")({address:d.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{f.type=qr(f)}catch{const h=await b();f.type=typeof(h==null?void 0:h.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(f.type==="eip1559"||f.type==="eip4844"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const h=await b(),{maxFeePerGas:p,maxPriorityFeePerGas:y}=await Tt(e,{block:h,chain:s,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new Zs({maxPriorityFeePerGas:y});f.maxPriorityFeePerGas=y,f.maxFeePerGas=p}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ht;const h=await b(),{gasPrice:p}=await Tt(e,{block:h,chain:s,request:f,type:"legacy"});f.gasPrice=p}return u.includes("gas")&&typeof o>"u"&&(f.gas=await C(e,Wt,"estimateGas")({...f,account:d?{address:d.address,type:"json-rpc"}:void 0})),Be(f),delete f.parameters,f}async function Wt(e,t){var s,a,o;const n=t.account??e.account,r=n?M(n):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:u,blockNumber:l,blockTag:d,data:f,gas:m,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:w,to:g,value:v,...x}=await rt(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),A=(l?R(l):void 0)||d;Be(t);const E=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,F=(E||Ye)({...Gt(x,{format:E}),from:r==null?void 0:r.address,accessList:i,blobs:c,blobVersionedHashes:u,data:f,gas:m,gasPrice:b,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:w,to:g,value:v}),O=await e.request({method:"eth_estimateGas",params:A?[F,A]:[F]});return BigInt(O)}catch(i){throw Vs(i,{...t,account:r,chain:e.chain})}}async function Qs(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=J({abi:n,args:s,functionName:a});try{return await C(e,Wt,"estimateGas")({data:i,to:r,...o})}catch(c){const u=o.account?M(o.account):void 0;throw Fe(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:u==null?void 0:u.address})}}const Pn="/docs/contract/decodeEventLog";function Vt(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new ns({docsPath:Pn});const c=t.find(h=>h.type==="event"&&o===$t(L(h)));if(!(c&&"name"in c)||c.type!=="event")throw new Dn(o,{docsPath:Pn});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(h=>!("name"in h&&h.name));let f=d?[]:{};const m=l.filter(h=>"indexed"in h&&h.indexed);for(let h=0;h<m.length;h++){const p=m[h],y=i[h];if(!y)throw new Xe({abiItem:c,param:p});f[d?h:p.name||h]=Xs({param:p,value:y})}const b=l.filter(h=>!("indexed"in h&&h.indexed));if(b.length>0){if(n&&n!=="0x")try{const h=tt(b,n);if(h)if(d)f=[...f,...h];else for(let p=0;p<b.length;p++)f[b[p].name]=h[p]}catch(h){if(a)throw h instanceof _n||h instanceof Dr?new he({abiItem:c,data:n,params:b,size:B(n)}):h}else if(a)throw new he({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Xs({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(tt([e],t)||[])[0]}function Jt({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var a;try{const o=Vt({...s,abi:e,strict:r});return t&&!t.includes(o.eventName)?null:{...o,...s}}catch(o){let i,c;if(o instanceof Dn)return null;if(o instanceof he||o instanceof Xe){if(r)return null;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:i}}}).filter(Boolean)}async function Zt(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,l=o??(a?[a]:void 0);let d=[];l&&(d=[l.flatMap(b=>Ne({abi:[b],eventName:b.name,args:i}))],a&&(d=d[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?R(r):r,toBlock:typeof s=="bigint"?R(s):s}]});const m=f.map(b=>Q(b));return l?Jt({abi:l,logs:m,strict:u}):m}async function Kn(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,l=o?Ie({abi:n,name:o}):void 0,d=l?void 0:n.filter(f=>f.type==="event");return C(e,Zt,"getLogs")({address:r,args:s,blockHash:a,event:l,events:d,fromBlock:i,toBlock:c,strict:u})}const dt="/docs/contract/decodeFunctionResult";function oe(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const i=Ie({abi:t,args:n,name:r});if(!i)throw new Ue(r,{docsPath:dt});a=i}if(a.type!=="function")throw new Ue(void 0,{docsPath:dt});if(!a.outputs)throw new rs(a.name,{docsPath:dt});const o=tt(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const kt=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Qn=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Xn=[...Qn,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],ea=[...Qn,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],xn=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],En=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ta=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],na="0x82ad56cb";function ie({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new wt({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new wt({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ra(e,{docsPath:t,...n}){const r=(()=>{const s=Lt(e,n);return s instanceof Ze?e:s})();return new Wn(r,{docsPath:t,...n})}const lt=new Map;function Yt({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{var m;s&&Array.isArray(f)&&f.sort(s);for(let b=0;b<l.length;b++){const{pendingPromise:h}=l[b];(m=h.resolve)==null||m.call(h,[f[b],f])}}).catch(f=>{var m;for(let b=0;b<l.length;b++){const{pendingPromise:h}=l[b];(m=h.reject)==null||m.call(h,f)}})},o=()=>lt.delete(t),i=()=>c().map(({args:l})=>l),c=()=>lt.get(t)||[],u=l=>lt.set(t,[...c(),l]);return{flush:o,async schedule(l){const d={},f=new Promise((h,p)=>{d.resolve=h,d.reject=p});return(n==null?void 0:n([...i(),l]))&&a(),c().length>0?(u({args:l,pendingPromise:d}),f):(u({args:l,pendingPromise:d}),setTimeout(a,r),f)}}}async function st(e,t){var v,x,k,A;const{account:n=e.account,batch:r=!!((v=e.batch)!=null&&v.multicall),blockNumber:s,blockTag:a="latest",accessList:o,blobs:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:b,to:h,value:p,stateOverride:y,...w}=t,g=n?M(n):void 0;try{Be(t);const T=(s?R(s):void 0)||a,F=ca(y),O=(A=(k=(x=e.chain)==null?void 0:x.formatters)==null?void 0:k.transactionRequest)==null?void 0:A.format,S=(O||Ye)({...Gt(w,{format:O}),from:g==null?void 0:g.address,accessList:o,blobs:i,data:c,gas:u,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:b,to:h,value:p});if(r&&sa({request:S})&&!F)try{return await aa(e,{...S,blockNumber:s,blockTag:a})}catch(ct){if(!(ct instanceof $n)&&!(ct instanceof wt))throw ct}const ce=await e.request({method:"eth_call",params:F?[S,T,F]:[S,T]});return ce==="0x"?{data:void 0}:{data:ce}}catch(E){const T=oa(E),{offchainLookup:F,offchainLookupSignature:O}=await Fn(async()=>{const{offchainLookup:I,offchainLookupSignature:S}=await import("./ccip-S15iVPoS.js");return{offchainLookup:I,offchainLookupSignature:S}},__vite__mapDeps([0,1,2,3,4]));if(e.ccipRead!==!1&&(T==null?void 0:T.slice(0,10))===O&&h)return{data:await F(e,{data:T,to:h})};throw ra(E,{...t,account:g,chain:e.chain})}}function sa({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(na)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function aa(e,t){var h;const{batchSize:n=1024,wait:r=0}=typeof((h=e.batch)==null?void 0:h.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new $n;u=ie({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?R(s):void 0)||a,{schedule:f}=Yt({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(p){return p.reduce((w,{data:g})=>w+(g.length-2),0)>n*2},fn:async p=>{const y=p.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),w=J({abi:kt,args:[y],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{data:w,to:u},d]});return oe({abi:kt,args:[y],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:m,success:b}]=await f({data:o,to:c});if(!b)throw new Dt({data:m});return m==="0x"?{data:void 0}:{data:m}}function oa(e){var n;if(!(e instanceof P))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}function Cn(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new fn({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new fn({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function ia(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=R(t)),n!==void 0&&(o.nonce=R(n)),r!==void 0&&(o.state=Cn(r)),s!==void 0){if(o.state)throw new _s;o.stateDiff=Cn(s)}return o}function ca(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!G(n,{strict:!1}))throw new fe({address:n});if(t[n])throw new Ss({address:n});t[n]=ia(r)}return t}async function U(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=J({abi:n,args:s,functionName:a});try{const{data:c}=await C(e,st,"call")({...o,data:i,to:r});return oe({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Fe(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function ua(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?M(i.account):e.account,u=J({abi:n,args:s,functionName:o});try{const{data:l}=await C(e,st,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),d=oe({abi:n,args:s,functionName:o,data:l||"0x"}),f=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:d,request:{abi:f,address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(l){throw Fe(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const ft=new Map,An=new Map;let da=0;function W(e,t,n){const r=++da,s=()=>ft.get(e)||[],a=()=>{const l=s();ft.set(e,l.filter(d=>d.id!==r))},o=()=>{const l=An.get(e);s().length===1&&l&&l(),a()},i=s();if(ft.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const l in t)c[l]=(...d)=>{var m,b;const f=s();if(f.length!==0)for(const h of f)(b=(m=h.fns)[l])==null||b.call(m,...d)};const u=n(c);return typeof u=="function"&&An.set(e,u),o}async function Rt(e){return new Promise(t=>setTimeout(t,e))}function Me(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await Rt(c);const u=async()=>{s&&(await e({unpoll:a}),await Rt(r),u())};u()})(),a}const la=new Map,fa=new Map;function ha(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,la),r=t(e,fa);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function ba(e,{cacheKey:t,cacheTime:n=1/0}){const r=ha(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const pa=e=>`blockNumber.${e}`;async function Se(e,{cacheTime:t=e.cacheTime}={}){const n=await ba(()=>e.request({method:"eth_blockNumber"}),{cacheKey:pa(e.uid),cacheTime:t});return BigInt(n)}async function at(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Q(a));return!("abi"in t)||!t.abi?s:Jt({abi:t.abi,logs:s,strict:n})}async function ot(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ma(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:f}=t;return(typeof l<"u"?l:e.transport.type!=="webSocket"||typeof i=="number")?(()=>{const p=f??!1,y=j(["watchContractEvent",r,s,a,e.uid,o,d,p,i]);return W(y,{onLogs:u,onError:c},w=>{let g;i!==void 0&&(g=i-1n);let v,x=!1;const k=Me(async()=>{var A;if(!x){try{v=await C(e,Gn,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:p,fromBlock:i})}catch{}x=!0;return}try{let E;if(v)E=await C(e,at,"getFilterChanges")({filter:v});else{const T=await C(e,Se,"getBlockNumber")({});g&&g!==T?E=await C(e,Kn,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:T,strict:p}):E=[],g=T}if(E.length===0)return;if(a)w.onLogs(E);else for(const T of E)w.onLogs([T])}catch(E){v&&E instanceof ee&&(x=!1),(A=w.onError)==null||A.call(w,E)}},{emitOnBegin:!0,interval:d});return async()=>{v&&await C(e,ot,"uninstallFilter")({filter:v}),k()}})})():(()=>{const p=f??!1,y=j(["watchContractEvent",r,s,a,e.uid,o,d,p]);let w=!0,g=()=>w=!1;return W(y,{onLogs:u,onError:c},v=>((async()=>{try{const x=o?Ne({abi:n,eventName:o,args:s}):[],{unsubscribe:k}=await e.transport.subscribe({params:["logs",{address:r,topics:x}],onData(A){var T;if(!w)return;const E=A.result;try{const{eventName:F,args:O}=Vt({abi:n,data:E.data,topics:E.topics,strict:f}),I=Q(E,{args:O,eventName:F});v.onLogs([I])}catch(F){let O,I;if(F instanceof he||F instanceof Xe){if(f)return;O=F.abiItem.name,I=(T=F.abiItem.inputs)==null?void 0:T.some(ce=>!("name"in ce&&ce.name))}const S=Q(E,{args:I?[]:{},eventName:O});v.onLogs([S])}},onError(A){var E;(E=v.onError)==null||E.call(v,A)}});g=k,w||g()}catch(x){c==null||c(x)}})(),()=>g()))})()}function er({chain:e,currentChainId:t}){if(!e)throw new zr;if(t!==e.id)throw new Lr({chain:e,currentChainId:t})}function ya(e,{docsPath:t,...n}){const r=(()=>{const s=Lt(e,n);return s instanceof Ze?e:s})();return new Gr(r,{docsPath:t,...n})}async function Kt(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function Qt(e,t){var y,w,g,v;const{account:n=e.account,chain:r=e.chain,accessList:s,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:m,value:b,...h}=t;if(!n)throw new nt({docsPath:"/docs/actions/wallet/sendTransaction"});const p=M(n);try{Be(t);let x;if(r!==null&&(x=await C(e,$e,"getChainId")({}),er({currentChainId:x,chain:r})),p.type==="local"){const T=await C(e,rt,"prepareTransactionRequest")({account:p,accessList:s,blobs:a,chain:r,chainId:x,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,parameters:[...Yn,"sidecars"],to:m,value:b,...h}),F=(y=r==null?void 0:r.serializers)==null?void 0:y.transaction,O=await p.signTransaction(T,{serializer:F});return await C(e,Kt,"sendRawTransaction")({serializedTransaction:O})}const k=(v=(g=(w=e.chain)==null?void 0:w.formatters)==null?void 0:g.transactionRequest)==null?void 0:v.format,E=(k||Ye)({...Gt(h,{format:k}),accessList:s,blobs:a,data:o,from:p.address,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:m,value:b});return await e.request({method:"eth_sendTransaction",params:[E]},{retryCount:0})}catch(x){throw ya(x,{...t,account:p,chain:t.chain||void 0})}}async function ga(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=J({abi:n,args:s,functionName:o});return C(e,Qt,"sendTransaction")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...i})}async function wa(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:R(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]},{retryCount:0})}const Ft=256;let De=Ft,ze;function va(e=11){if(!ze||De+e>Ft*2){ze="",De=0;for(let t=0;t<Ft;t++)ze+=(256+Math.random()*256|0).toString(16).substring(1)}return ze.substring(De,De+++e)}function Pa(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:a="Base Client",pollingInterval:o=4e3,type:i="base"}=e,c=e.chain,u=e.account?M(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:c,pollingInterval:o}),m={...l,...f},b={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:a,pollingInterval:o,request:d,transport:m,type:i,uid:va()};function h(p){return y=>{const w=y(p);for(const v in b)delete w[v];const g={...p,...w};return Object.assign(g,{extend:h(g)})}}return Object.assign(b,{extend:h(b)})}function Ot(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:i,error:u}):t;l&&await Rt(l),o({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});a(u)}};o()})}function xa(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:a=3}={...t,...r};return Ot(async()=>{try{return await e(n)}catch(o){const i=o;switch(i.code){case pe.code:throw new pe(i);case me.code:throw new me(i);case ye.code:throw new ye(i);case ge.code:throw new ge(i);case X.code:throw new X(i);case ee.code:throw new ee(i);case we.code:throw new we(i);case ve.code:throw new ve(i);case Pe.code:throw new Pe(i);case xe.code:throw new xe(i);case ae.code:throw new ae(i);case Ee.code:throw new Ee(i);case ne.code:throw new ne(i);case Ce.code:throw new Ce(i);case Ae.code:throw new Ae(i);case Te.code:throw new Te(i);case ke.code:throw new ke(i);case Re.code:throw new Re(i);case 5e3:throw new ne(i);default:throw o instanceof P?o:new Hs(i)}}},{delay:({count:o,error:i})=>{var c;if(i&&i instanceof le){const u=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return parseInt(u)*1e3}return~~(1<<o)*s},retryCount:a,shouldRetry:({error:o})=>Ea(o)})}}function Ea(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===ae.code||e.code===X.code:e instanceof le&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function tr({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:xa(n,{retryCount:r,retryDelay:s}),value:i}}class nr extends P{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function rr(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}function Ca(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const jt=Ca();function Aa(e,t={}){return{async request(n){var d;const{body:r,fetchOptions:s={},onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,{headers:c,method:u,signal:l}={...t.fetchOptions,...s};try{const f=await rr(async({signal:b})=>{const h=new Request(e,{...s,body:Array.isArray(r)?j(r.map(y=>({jsonrpc:"2.0",id:y.id??jt.take(),...y}))):j({jsonrpc:"2.0",id:r.id??jt.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:l||(i>0?b:null)});return a&&await a(h),await fetch(h)},{errorInstance:new At({body:r,url:e}),timeout:i,signal:!0});o&&await o(f);let m;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json")?m=await f.json():m=await f.text(),!f.ok)throw new le({body:r,details:j(m.error)||f.statusText,headers:f.headers,status:f.status,url:e});return m}catch(f){throw f instanceof le||f instanceof At?f:new le({body:r,details:f.message,url:e})}}}}function Ta(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:l,timeout:d})=>{const{batchSize:f=1e3,wait:m=0}=typeof n=="object"?n:{},b=t.retryCount??l,h=d??t.timeout??1e4,p=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!p)throw new nr;const y=Aa(p,{fetchOptions:r,onRequest:o,onResponse:i,timeout:h});return tr({key:s,name:a,async request({method:w,params:g}){const v={method:w,params:g},{schedule:x}=Yt({id:`${e}`,wait:m,shouldSplitBatch(T){return T.length>f},fn:T=>y.request({body:T}),sort:(T,F)=>T.id-F.id}),k=async T=>n?x(T):[await y.request({body:T})],[{error:A,result:E}]=await k(v);if(A)throw new zt({body:v,error:A,url:p});return E},retryCount:b,retryDelay:c,timeout:h,type:"http"},{fetchOptions:r,url:p})}}function Xt(e,t){var r,s,a,o,i,c;if(!(e instanceof P))return!1;const n=e.walk(u=>u instanceof Ct);return n instanceof Ct?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((a=n.data)==null?void 0:a.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Hn[50]):!1}function sr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return se(t)?t:null}function Le(e){let t=new Uint8Array(32).fill(0);if(!e)return z(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=sr(n[r]),a=s?re(s):$(K(n[r]),"bytes");t=$(D([t,a]),"bytes")}return z(t)}function ka(e){return`[${e.slice(2)}]`}function Ra(e){const t=new Uint8Array(32).fill(0);return e?sr(e)||$(K(e)):z(t)}function it(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(K(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=K(s[a]);o.byteLength>255&&(o=K(ka(Ra(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Fa(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ie({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=J({abi:En,functionName:"addr",...r!=null?{args:[Le(s),BigInt(r)]}:{args:[Le(s)]}}),l={address:c,abi:Xn,functionName:"resolve",args:[V(it(s)),u],blockNumber:t,blockTag:n},d=C(e,U,"readContract"),f=a?await d({...l,args:[...l.args,a]}):await d(l);if(f[0]==="0x")return null;const m=oe({abi:En,args:r!=null?[Le(s),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return m==="0x"||Ve(m)==="0x00"?null:m}catch(u){if(o)throw u;if(Xt(u,"resolve"))return null;throw u}}class Oa extends P{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class de extends P{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class en extends P{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class ja extends P{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Ia=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Na=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ba=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,$a=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ma(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Tn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ar({uri:e,gatewayUrls:t}){const n=Ba.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Tn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Tn(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Ia),{protocol:o,subpath:i,target:c,subtarget:u=""}=(a==null?void 0:a.groups)||{},l=o==="ipns:/"||i==="ipns/",d=o==="ipfs:/"||i==="ipfs/"||Na.test(e);if(e.startsWith("http")&&!l&&!d){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace($a,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new en({uri:e})}function or(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Oa({data:e});return e.image||e.image_url||e.image_data}async function Sa({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await tn({gatewayUrls:e,uri:or(n)})}catch{throw new en({uri:t})}}async function tn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ar({uri:t,gatewayUrls:e});if(r||await Ma(n))return n;throw new en({uri:t})}function _a(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new de({reason:"Only EIP-155 supported"});if(!o)throw new de({reason:"Chain ID not found"});if(!c)throw new de({reason:"Contract address not found"});if(!s)throw new de({reason:"Token ID not found"});if(!i)throw new de({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function qa(e,{nft:t}){if(t.namespace==="erc721")return U(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return U(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ja({namespace:t.namespace})}async function Da(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?za(e,{gatewayUrls:t,record:n}):tn({uri:n,gatewayUrls:t})}async function za(e,{gatewayUrls:t,record:n}){const r=_a(n),s=await qa(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=ar({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=i?atob(a.replace("data:application/json;base64,","")):a,l=JSON.parse(u);return tn({uri:or(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Sa({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function ir(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=ie({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:Xn,functionName:"resolve",args:[V(it(r)),J({abi:xn,functionName:"text",args:[Le(r),s]})],blockNumber:t,blockTag:n},l=C(e,U,"readContract"),d=a?await l({...u,args:[...u.args,a]}):await l(u);if(d[0]==="0x")return null;const f=oe({abi:xn,functionName:"text",data:d[0]});return f===""?null:f}catch(u){if(o)throw u;if(Xt(u,"resolve"))return null;throw u}}async function La(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await C(e,ir,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Da(e,{record:c,gatewayUrls:r})}catch{return null}}async function Ga(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=ie({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:ea,functionName:"reverse",args:[V(it(c))],blockNumber:n,blockTag:r},l=C(e,U,"readContract"),[d,f]=s?await l({...u,args:[...u.args,s]}):await l(u);return t.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(a)throw u;if(Xt(u,"reverse"))return null;throw u}}async function Ha(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=ie({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await C(e,U,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[V(it(r))],blockNumber:t,blockTag:n});return o}async function Ua(e){const t=et(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function cr(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=et(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(f=>Ne({abi:[f],eventName:f.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?R(a):a,toBlock:typeof i=="bigint"?R(i):i,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!o,toBlock:i,type:"event"}}async function ur(e){const t=et(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Wa(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?R(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Va(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Ja(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?R(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),Oe(a)}async function Za(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?R(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function Ya(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Ka(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?R(n):void 0,o=await e.request({method:"eth_feeHistory",params:[R(t),a||r,s]});return Ya(o)}async function Qa(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Q(a));return t.abi?Jt({abi:t.abi,logs:s,strict:n}):s}const Xa=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ht=new Map;async function to(e){const{getSocket:t,reconnect:n=!0,url:r}=e,{attempts:s=5,delay:a=2e3}=typeof n=="object"?n:{};let o=ht.get(r);if(o)return o;let i=0;const{schedule:c}=Yt({id:r,fn:async()=>{const d=new Map,f=new Map;let m,b;async function h(){return t({onError(p){var y,w;m=p;for(const g of d.values())(y=g.onError)==null||y.call(g,m);for(const g of f.values())(w=g.onError)==null||w.call(g,m);d.clear(),f.clear(),n&&i<s&&setTimeout(async()=>{i++,b=await h().catch(console.error)},a)},onOpen(){m=void 0,i=0},onResponse(p){const y=p.method==="eth_subscription",w=y?p.params.subscription:p.id,g=y?f:d,v=g.get(w);v&&v.onResponse(p),y||g.delete(w)}})}return b=await h(),m=void 0,o={close(){b.close(),ht.delete(r)},socket:b,request({body:p,onError:y,onResponse:w}){m&&y&&y(m);const g=p.id??jt.take(),v=x=>{var k;typeof x.id=="number"&&g!==x.id||(p.method==="eth_subscribe"&&typeof x.result=="string"&&f.set(x.result,{onResponse:v,onError:y}),p.method==="eth_unsubscribe"&&f.delete((k=p.params)==null?void 0:k[0]),w(x))};d.set(g,{onResponse:v,onError:y});try{b.request({body:{jsonrpc:"2.0",id:g,...p}})}catch(x){y==null||y(x)}},requestAsync({body:p,timeout:y=1e4}){return rr(()=>new Promise((w,g)=>this.request({body:p,onError:g,onResponse:w})),{errorInstance:new At({body:p,url:r}),timeout:y})},requests:d,subscriptions:f,url:r},ht.set(r,o),[o]}}),[u,[l]]=await c();return l}async function Ge(e,t={}){const{reconnect:n}=t;return to({async getSocket({onError:r,onOpen:s,onResponse:a}){const o=await Fn(()=>import("./native-nlbQMriv.js"),__vite__mapDeps([5,2,3])).then(d=>d.WebSocket),i=new o(e);function c(){i.removeEventListener("close",c),i.removeEventListener("message",u),i.removeEventListener("error",r),i.removeEventListener("open",s)}function u({data:d}){a(JSON.parse(d))}i.addEventListener("close",c),i.addEventListener("message",u),i.addEventListener("error",r),i.addEventListener("open",s),i.readyState===o.CONNECTING&&await new Promise((d,f)=>{i&&(i.onopen=d,i.onerror=f)});const{close:l}=i;return Object.assign(i,{close(){l.bind(i)(),c()},request({body:d}){if(i.readyState===i.CLOSED||i.readyState===i.CLOSING)throw new Ls({body:d,url:i.url,details:"Socket is closed."});return i.send(JSON.stringify(d))}})},reconnect:n,url:e})}async function no(e){const t=await Ge(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function dr(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:mr({domain:t}),...e.types};pr({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(ro({domain:t,types:s})),r!=="EIP712Domain"&&a.push(lr({data:n,primaryType:r,types:s})),$(D(a))}function ro({domain:e,types:t}){return lr({data:e,primaryType:"EIP712Domain",types:t})}function lr({data:e,primaryType:t,types:n}){const r=fr({data:e,primaryType:t,types:n});return $(r)}function fr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[so({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=br({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return je(r,s)}function so({primaryType:e,types:t}){const n=V(ao({primaryType:e,types:t}));return $(n)}function ao({primaryType:e,types:t}){let n="";const r=hr({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function hr({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])hr({primaryType:a.type,types:t},n);return n}function br({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},$(fr({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},$(r)];if(n==="string")return[{type:"bytes32"},$(V(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>br({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},$(je(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function pr(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(o,i)=>{for(const c of o){const{name:u,type:l}=c,d=i[u],f=l.match(eo);if(f&&(typeof d=="number"||typeof d=="bigint")){const[h,p,y]=f;R(d,{signed:p==="int",size:parseInt(y)/8})}if(l==="address"&&typeof d=="string"&&!G(d))throw new fe({address:d});const m=l.match(Xa);if(m){const[h,p]=m;if(p&&B(d)!==parseInt(p))throw new as({expectedSize:parseInt(p),givenSize:B(d)})}const b=s[l];b&&a(b,d)}};if(s.EIP712Domain&&t&&a(s.EIP712Domain,t),r!=="EIP712Domain"){const o=s[r];a(o,n)}}function mr({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const bt="/docs/contract/encodeDeployData";function yr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Qr({docsPath:bt});if(!("inputs"in s))throw new bn({docsPath:bt});if(!s.inputs||s.inputs.length===0)throw new bn({docsPath:bt});const a=je(s.inputs,n);return jn([r,a])}const oo=`Ethereum Signed Message:
`;function gr(e,t){const n=typeof e=="string"?K(e):e.raw instanceof Uint8Array?e.raw:re(e.raw),r=K(`${oo}${n.length}`);return $(D([r,n]),t)}function io(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function co(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Oe(e.nonce):void 0,storageProof:e.storageProof?io(e.storageProof):void 0}}async function uo(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?R(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return co(i)}async function lo(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?R(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function nn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var l,d,f;const o=r||"latest",i=n!==void 0?R(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,R(a)]}):(i||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,R(a)]})),!c)throw new Mn({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((f=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||vt)(c)}async function fo(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([C(e,Se,"getBlockNumber")({}),t?C(e,nn,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function It(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Sn({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Hr)(n)}async function ho(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,multicallAddress:o,stateOverride:i}=t,c=t.contracts,u=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=o;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=ie({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let f=0,m=0;for(let y=0;y<c.length;y++){const{abi:w,address:g,args:v,functionName:x}=c[y];try{const k=J({abi:w,args:v,functionName:x});m+=(k.length-2)/2,u>0&&m>u&&d[f].length>0&&(f++,m=(k.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:k,target:g}]}catch(k){const A=Fe(k,{abi:w,address:g,args:v,docsPath:"/docs/contract/multicall",functionName:x});if(!n)throw A;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:g}]}}const b=await Promise.allSettled(d.map(y=>C(e,U,"readContract")({abi:kt,address:l,args:[y],blockNumber:s,blockTag:a,functionName:"aggregate3",stateOverride:i}))),h=[];for(let y=0;y<b.length;y++){const w=b[y];if(w.status==="rejected"){if(!n)throw w.reason;for(let v=0;v<d[y].length;v++)h.push({status:"failure",error:w.reason,result:void 0});continue}const g=w.value;for(let v=0;v<g.length;v++){const{returnData:x,success:k}=g[v],{callData:A}=d[y][v],{abi:E,address:T,functionName:F,args:O}=c[h.length];try{if(A==="0x")throw new Qe;if(!k)throw new Dt({data:x});const I=oe({abi:E,args:O,data:x,functionName:F});h.push(n?{result:I,status:"success"}:I)}catch(I){const S=Fe(I,{abi:E,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:F});if(!n)throw S;h.push({error:S,result:void 0,status:"failure"})}}}if(h.length!==c.length)throw new P("multicall results mismatch");return h}const bo="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function po(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mo(e,t){const n=se(e)?re(e):e,r=se(t)?re(t):t;return po(n,r)}async function wr(e,{address:t,hash:n,signature:r,...s}){const a=se(r)?r:V(r);try{const{data:o}=await C(e,st,"call")({data:yr({abi:ta,args:[t,n,a],bytecode:bo}),...s});return mo(o??"0x0","0x1")}catch(o){if(o instanceof Wn)return!1;throw o}}async function yo(e,{address:t,message:n,signature:r,...s}){const a=gr(n);return wr(e,{address:t,hash:a,signature:r,...s})}async function go(e,t){const{address:n,signature:r,message:s,primaryType:a,types:o,domain:i,...c}=t,u=dr({message:s,primaryType:a,types:o,domain:i});return wr(e,{address:n,hash:u,signature:r,...c})}function vr(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:e.transport.type!=="webSocket";let c;return i?(()=>{const d=j(["watchBlockNumber",e.uid,t,n,o]);return W(d,{onBlockNumber:r,onError:s},f=>Me(async()=>{var m;try{const b=await C(e,Se,"getBlockNumber")({cacheTime:0});if(c){if(b===c)return;if(b-c>1&&n)for(let h=c+1n;h<b;h++)f.onBlockNumber(h,c),c=h}(!c||b>c)&&(f.onBlockNumber(b,c),c=b)}catch(b){(m=f.onError)==null||m.call(f,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=j(["watchBlockNumber",e.uid,t,n]);return W(d,{onBlockNumber:r,onError:s},f=>{let m=!0,b=()=>m=!1;return(async()=>{try{const{unsubscribe:h}=await e.transport.subscribe({params:["newHeads"],onData(p){var w;if(!m)return;const y=Nt((w=p.result)==null?void 0:w.number);f.onBlockNumber(y,c),c=y},onError(p){var y;(y=f.onError)==null||y.call(f,p)}});b=h,m||b()}catch(h){s==null||s(h)}})(),()=>b()})})()}async function wo(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:a=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:i}){const c=j(["waitForTransactionReceipt",e.uid,n]);let u,l,d,f=!1;return new Promise((m,b)=>{i&&setTimeout(()=>b(new Ur({hash:n})),i);const h=W(c,{onReplaced:r,resolve:m,reject:b},p=>{const y=C(e,vr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){if(f)return;let g=w;const v=x=>{y(),x(),h()};try{if(d){if(t>1&&(!d.blockNumber||g-d.blockNumber+1n<t))return;v(()=>p.resolve(d));return}if(u||(f=!0,await Ot(async()=>{u=await C(e,nn,"getTransaction")({hash:n}),u.blockNumber&&(g=u.blockNumber)},{delay:o,retryCount:a}),f=!1),d=await C(e,It,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||g-d.blockNumber+1n<t))return;v(()=>p.resolve(d))}catch(x){if(x instanceof Mn||x instanceof Sn){if(!u){f=!1;return}try{l=u,f=!0;const k=await Ot(()=>C(e,H,"getBlock")({blockNumber:g,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:T})=>T instanceof Vn});f=!1;const A=k.transactions.find(({from:T,nonce:F})=>T===l.from&&F===l.nonce);if(!A||(d=await C(e,It,"getTransactionReceipt")({hash:A.hash}),t>1&&(!d.blockNumber||g-d.blockNumber+1n<t)))return;let E="replaced";A.to===l.to&&A.value===l.value?E="repriced":A.from===A.to&&A.value===0n&&(E="cancelled"),v(()=>{var T;(T=p.onReplaced)==null||T.call(p,{reason:E,replacedTransaction:l,transaction:A,transactionReceipt:d}),p.resolve(d)})}catch(k){v(()=>p.reject(k))}}else v(()=>p.reject(x))}}})})})}function vo(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:e.transport.type!=="webSocket",l=o??!1;let d;return u?(()=>{const b=j(["watchBlocks",e.uid,t,n,r,l,c]);return W(b,{onBlock:s,onError:a},h=>Me(async()=>{var p;try{const y=await C(e,H,"getBlock")({blockTag:t,includeTransactions:l});if(y.number&&(d!=null&&d.number)){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let w=(d==null?void 0:d.number)+1n;w<y.number;w++){const g=await C(e,H,"getBlock")({blockNumber:w,includeTransactions:l});h.onBlock(g,d),d=g}}(!(d!=null&&d.number)||t==="pending"&&!(y!=null&&y.number)||y.number&&y.number>d.number)&&(h.onBlock(y,d),d=y)}catch(y){(p=h.onError)==null||p.call(h,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,h=()=>b=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newHeads"],onData(y){var v,x,k;if(!b)return;const g=(((k=(x=(v=e.chain)==null?void 0:v.formatters)==null?void 0:x.block)==null?void 0:k.format)||Bn)(y.result);s(g,d),d=g},onError(y){a==null||a(y)}});h=p,b||h()}catch(p){a==null||a(p)}})(),()=>h()})()}function Po(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const f=typeof u<"u"?u:e.transport.type!=="webSocket"||typeof o=="bigint",m=d??!1;return f?(()=>{const p=j(["watchEvent",t,n,r,e.uid,s,l,o]);return W(p,{onLogs:c,onError:i},y=>{let w;o!==void 0&&(w=o-1n);let g,v=!1;const x=Me(async()=>{var k;if(!v){try{g=await C(e,cr,"createEventFilter")({address:t,args:n,event:s,events:a,strict:m,fromBlock:o})}catch{}v=!0;return}try{let A;if(g)A=await C(e,at,"getFilterChanges")({filter:g});else{const E=await C(e,Se,"getBlockNumber")({});w&&w!==E?A=await C(e,Zt,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:w+1n,toBlock:E}):A=[],w=E}if(A.length===0)return;if(r)y.onLogs(A);else for(const E of A)y.onLogs([E])}catch(A){g&&A instanceof ee&&(v=!1),(k=y.onError)==null||k.call(y,A)}},{emitOnBegin:!0,interval:l});return async()=>{g&&await C(e,ot,"uninstallFilter")({filter:g}),x()}})})():(()=>{let p=!0,y=()=>p=!1;return(async()=>{try{const w=a??(s?[s]:void 0);let g=[];w&&(g=[w.flatMap(x=>Ne({abi:[x],eventName:x.name,args:n}))],s&&(g=g[0]));const{unsubscribe:v}=await e.transport.subscribe({params:["logs",{address:t,topics:g}],onData(x){var A;if(!p)return;const k=x.result;try{const{eventName:E,args:T}=Vt({abi:w??[],data:k.data,topics:k.topics,strict:m}),F=Q(k,{args:T,eventName:E});c([F])}catch(E){let T,F;if(E instanceof he||E instanceof Xe){if(d)return;T=E.abiItem.name,F=(A=E.abiItem.inputs)==null?void 0:A.some(I=>!("name"in I&&I.name))}const O=Q(k,{args:F?[]:{},eventName:T});c([O])}},onError(x){i==null||i(x)}});y=v,p||y()}catch(w){i==null||i(w)}})(),()=>y()})()}function xo(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=j(["watchPendingTransactions",e.uid,t,a]);return W(u,{onTransactions:r,onError:n},l=>{let d;const f=Me(async()=>{var m;try{if(!d)try{d=await C(e,ur,"createPendingTransactionFilter")({});return}catch(h){throw f(),h}const b=await C(e,at,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)l.onTransactions(b);else for(const h of b)l.onTransactions([h])}catch(b){(m=l.onError)==null||m.call(l,b)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await C(e,ot,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const m=f.result;r([m])},onError(f){n==null||n(f)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function Eo(e){return{call:t=>st(e,t),createBlockFilter:()=>Ua(e),createContractEventFilter:t=>Gn(e,t),createEventFilter:t=>cr(e,t),createPendingTransactionFilter:()=>ur(e),estimateContractGas:t=>Qs(e,t),estimateGas:t=>Wt(e,t),getBalance:t=>Wa(e,t),getBlobBaseFee:()=>Va(e),getBlock:t=>H(e,t),getBlockNumber:t=>Se(e,t),getBlockTransactionCount:t=>Ja(e,t),getBytecode:t=>Za(e,t),getChainId:()=>$e(e),getContractEvents:t=>Kn(e,t),getEnsAddress:t=>Fa(e,t),getEnsAvatar:t=>La(e,t),getEnsName:t=>Ga(e,t),getEnsResolver:t=>Ha(e,t),getEnsText:t=>ir(e,t),getFeeHistory:t=>Ka(e,t),estimateFeesPerGas:t=>Ks(e,t),getFilterChanges:t=>at(e,t),getFilterLogs:t=>Qa(e,t),getGasPrice:()=>Ut(e),getLogs:t=>Zt(e,t),getProof:t=>uo(e,t),estimateMaxPriorityFeePerGas:t=>Ys(e,t),getStorageAt:t=>lo(e,t),getTransaction:t=>nn(e,t),getTransactionConfirmations:t=>fo(e,t),getTransactionCount:t=>Zn(e,t),getTransactionReceipt:t=>It(e,t),multicall:t=>ho(e,t),prepareTransactionRequest:t=>rt(e,t),readContract:t=>U(e,t),sendRawTransaction:t=>Kt(e,t),simulateContract:t=>ua(e,t),verifyMessage:t=>yo(e,t),verifyTypedData:t=>go(e,t),uninstallFilter:t=>ot(e,t),waitForTransactionReceipt:t=>wo(e,t),watchBlocks:t=>vo(e,t),watchBlockNumber:t=>vr(e,t),watchContractEvent:t=>ma(e,t),watchEvent:t=>Po(e,t),watchPendingTransactions:t=>xo(e,t)}}function Co(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=yr({abi:n,args:r,bytecode:s});return Qt(e,{...a,data:o})}async function Ao(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>In(r))}async function To(e){return await e.request({method:"wallet_getPermissions"})}async function ko(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map(n=>Wr(n))}async function Ro(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Fo(e,{account:t=e.account,message:n}){if(!t)throw new nt({docsPath:"/docs/actions/wallet/signMessage"});const r=M(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?On(n):n.raw instanceof Uint8Array?V(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Oo(e,t){var u,l,d,f;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new nt({docsPath:"/docs/actions/wallet/signTransaction"});const a=M(n);Be({account:a,...t});const o=await C(e,$e,"getChainId")({});r!==null&&er({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=i==null?void 0:i.transactionRequest)==null?void 0:l.format)||Ye;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(f=(d=e.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:R(o),from:a.address}]},{retryCount:0})}async function jo(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new nt({docsPath:"/docs/actions/wallet/signTypedData"});const o=M(n),i={EIP712Domain:mr({domain:r}),...t.types};if(pr({domain:r,message:s,primaryType:a,types:i}),o.type==="local")return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=j({domain:r??{},message:s,primaryType:a,types:i},(u,l)=>se(l)?l.toLowerCase():l);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Io(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:R(t)}]},{retryCount:0})}async function No(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Bo(e){return{addChain:t=>wa(e,t),deployContract:t=>Co(e,t),getAddresses:()=>Ao(e),getChainId:()=>$e(e),getPermissions:()=>To(e),prepareTransactionRequest:t=>rt(e,t),requestAddresses:()=>ko(e),requestPermissions:t=>Ro(e,t),sendRawTransaction:t=>Kt(e,t),sendTransaction:t=>Qt(e,t),signMessage:t=>Fo(e,t),signTransaction:t=>Oo(e,t),signTypedData:t=>jo(e,t),switchChain:t=>Io(e,t),watchAsset:t=>No(e,t),writeContract:t=>ga(e,t)}}function $o(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Pa({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Bo)}function Mo(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:a}=t;return({chain:o,retryCount:i,timeout:c})=>{var f;const u=t.retryCount??i,l=c??t.timeout??1e4,d=e||((f=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:f[0]);if(!d)throw new nr;return tr({key:n,name:r,async request({method:m,params:b}){const h={method:m,params:b},p=await Ge(d,{reconnect:s}),{error:y,result:w}=await p.requestAsync({body:h,timeout:l});if(y)throw new zt({body:h,error:y,url:d});return w},retryCount:u,retryDelay:a,timeout:l,type:"webSocket"},{getSocket(){return no(d)},getRpcClient(){return Ge(d)},async subscribe({params:m,onData:b,onError:h}){const p=await Ge(d),{result:y}=await new Promise((w,g)=>p.request({body:{method:"eth_subscribe",params:m},onResponse(v){if(v.error){g(v.error),h==null||h(v.error);return}if(typeof v.id=="number"){w(v);return}v.method==="eth_subscription"&&b(v.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(w=>p.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:w}))}}}})}}new xr.ec("secp256k1");function pt(e){return e.substring(0,2)==="0x"&&(e=e.substring(2)),Er.from(e,"hex").toString("base64")}function So(e){return{r:`0x${e.slice(2,66)}`,s:`0x${e.slice(66,130)}`,v:BigInt(e.slice(130,132))}}var mt=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function i(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?a(l.value):s(l.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};function Pr(e,t){let n;return t?n=Object.values(e.wallets).find(r=>r.address.toLowerCase()===t.toLowerCase()):n=Object.values(e.wallets)[0],{address:n.address,publicKey:n.publicKey||"0x",source:"custom",type:"local",signMessage:({message:r})=>mt(this,void 0,void 0,function*(){const s=gr(r);return`0x${(yield e.signMessage(n.id,pt(s))).signature}`}),signTransaction:(r,s)=>mt(this,void 0,void 0,function*(){let{serializer:a}=s||{};a||(a=Jr);const o=a(r,{r:"0x",s:"0x",v:BigInt(0)}),c=(yield e.signTransaction(n.id,pt(o.substring(2)),`${r.chainId}`)).signature,u=So(`0x${c}`);return u.v+=BigInt(27),a(r,u)}),signTypedData:r=>mt(this,void 0,void 0,function*(){return`0x${(yield e.signMessage(n.id,pt(dr(r)))).signature}`})}}function kn(e){const t=Number(e);for(const n of Object.values(Vr))if(n.id===t)return n;throw new Error(`chain with id ${e} not found`)}function _o(e,t,n){return $o(Object.assign({account:n!=null&&n.noAccount?void 0:Pr(e)},t))}var qo=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function i(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?a(l.value):s(l.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};function Do(e,t,n){const r=document.getElementById("capsule-modal"),s=r??document.createElement("div");s.id="capsule-modal",r||document.body.appendChild(s);const a=()=>{n(),t.onClose&&t.onClose(),o(!1)},o=i=>qo(this,void 0,void 0,function*(){Cr.render(Ar.jsx(kr,Object.assign({},t,{onClose:a,capsule:e,isOpen:i})),s)});o(!0)}var zo=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function i(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?a(l.value):s(l.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const Rn="@CAPSULE/chainId",Lo=6e5,Go={setItem:()=>{},getItem:()=>null};class Ho extends Tr{constructor(t){super(),this.getRpcUrlsFromViemChain=s=>[...s.rpcUrls.default.webSocket||[],...s.rpcUrls.default.http],this.wagmiChainToAddEthereumChainParameters=s=>{const a=_e(`${s.id}`);return[a,{chainId:a,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:this.getRpcUrlsFromViemChain(s)}]},this.wagmiChainsToAddEthereumChainParameters=s=>Object.fromEntries(s.map(this.wagmiChainToAddEthereumChainParameters)),this.accountFromAddress=s=>Pr(this.capsule,s),this.setCurrentChain=s=>{const a=this.chains[s];this.setChainId(s);const o=this.viemChains[s]||kn(ut(s));let i;a.rpcUrls[0].startsWith("ws")?(i=Mo(a.rpcUrls[0]),this.chainTransportSubscribe=i({chain:o}).value.subscribe):(i=Ta(a.rpcUrls[0]),this.chainTransportSubscribe=void 0),this.walletClient=_o(this.capsule,{chain:o,transport:i},{noAccount:!0}).extend(Eo),this.emit("chainChanged",this.currentHexChainId)},this.closeModal=()=>{this.isModalClosed=!0},this.request=s=>zo(this,void 0,void 0,function*(){const{method:a,params:o}=s;switch(a){case"eth_accounts":return Object.values(this.capsule.wallets).map(i=>i.address);case"eth_chainId":return this.currentHexChainId;case"eth_requestAccounts":{if(yield this.capsule.isFullyLoggedIn())return Object.values(this.capsule.wallets).map(u=>u.address);this.isModalClosed=!1;const i=()=>{this.isModalClosed=!0};this.disableModal||Do(this.capsule,this.modalProps,i);const c=Date.now();for(;Date.now()-c<Lo;){if(yield new Promise(u=>setTimeout(u,2e3)),yield this.capsule.isFullyLoggedIn()){const u=Object.values(this.capsule.wallets).map(l=>l.address);return this.emit("accountsChanged",u),u}if(this.isModalClosed)throw new q(new Error("user closed modal"),{code:4001,shortMessage:"user closed modal"})}throw new q(new Error("timed out waiting for user to log in"),{code:4001,shortMessage:"timed out waiting for user to log in"})}case"eth_sendTransaction":{const i=o[0].from;return this.walletClient.sendTransaction(Object.assign(Object.assign({},vt(o[0])),{chain:void 0,account:this.accountFromAddress(i)}))}case"eth_sign":case"personal_sign":return this.walletClient.signMessage({message:{raw:o[0]},account:this.accountFromAddress(o[1])});case"eth_signTransaction":{const i=o[0].from;return this.accountFromAddress(i).signTransaction(vt(o[0]))}case"eth_signTypedData_v4":{const i=o[0];let c=o[1];return typeof c=="string"&&(c=JSON.parse(c)),this.walletClient.signTypedData(Object.assign(Object.assign({},c),{account:this.accountFromAddress(i)}))}case"eth_subscribe":{if(!this.chainTransportSubscribe)throw new q(new Error("chain does not support subscriptions"),{code:4200,shortMessage:"chain does not support subscriptions"});return(yield this.chainTransportSubscribe({params:o,onData:c=>{this.emit("message",{type:"eth_subscription",data:c})}})).subscriptionId}case"wallet_addEthereumChain":return this.chains[o[0].chainId]||(this.chains[o[0].chainId]=o[0]),null;case"wallet_getPermissions":return[];case"wallet_requestPermissions":return[];case"wallet_switchEthereumChain":{if(!this.chains[o[0].chainId]){const i=kn(ut(o[0].chainId)),[c,u]=this.wagmiChainToAddEthereumChainParameters(i);this.chains[c]=u,this.setCurrentChain(o[0].chainId)}return this.currentHexChainId!==o[0].chainId&&this.setCurrentChain(o[0].chainId),null}case"wallet_watchAsset":return!1;default:return this.walletClient.request({method:a,params:o})}}),this.storage=t.storageOverride||typeof window>"u"?Go:sessionStorage,this.isModalClosed=!0,this.capsule=t.capsule,this.modalProps=Object.assign({},t),this.disableModal=!!t.disableModal,this.viemChains=t.chains.reduce((s,a)=>(s[_e(`${a.id}`)]=a,s),{}),this.chains=this.wagmiChainsToAddEthereumChainParameters(t.chains);const n=this.getStorageChainId()||t.chainId,r=this.chains[_e(n)]?n:`${t.chains[0].id}`;this.setCurrentChain(_e(r)),this.emit("connect",{chainId:this.currentHexChainId})}getStorageChainId(){return this.storage.getItem(Rn)}setChainId(t){this.currentHexChainId=t,this.storage.setItem(Rn,ut(t))}}const Jo=Object.freeze(Object.defineProperty({__proto__:null,CapsuleEIP1193Provider:Ho},Symbol.toStringTag,{value:"Module"}));export{le as H,st as c,Ms as d,je as e,Jo as i,j as s};
